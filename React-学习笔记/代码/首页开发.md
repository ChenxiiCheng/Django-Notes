# 首页开发

1. 安装路由

   ```
   sudo yarn add react-router-dom
   ```



2. css

   ```javascript
   <ListItem>
     <img className='pic' />
   	<ListInfo>
   		<h3></h3>
   		<p></p>
   	</ListInfo>
   </ListItem>
   如果标签是这么嵌套的，在写css的时候，如果里面的标签有用到float的话，外面的标签最好加个overflow: hidden;
   
   export const ListItem = styled.div`
     overflow: hidden;
     padding: 20px 0;
     border-bottom: 1px solid #dcdcdc;
     .pic {
       display: block;
       width: 125px;
       height: 100px;
       float: right;
     }
   ```

   

3. 在index.js中

   ```javascript
   1.使用ajax获取收据
   componentDidMount() {
     axios.get('/api/home.json').then(res => {
       const result = res.data.data;
       const action = {
         type: 'change_home_data',
         topicList: result.topicList,
         articleList: result.articleList,
         recommendList: result.recommendList
       };
       this.props.changeHomeData(action);
       console.log(result);
     });
   }
   
   2.获取到数据后如何更新store里的数据
   import { connect } from 'react-redux';
   
     componentDidMount() {
       axios.get('/api/home.json').then(res => {
         const result = res.data.data;
         const action = {
           type: 'change_home_data',
           topicList: result.topicList,
           articleList: result.articleList,
           recommendList: result.recommendList
         };
         this.props.changeHomeData(action);
         console.log(result);
       });
     }
     
   
   const mapDispatch = dispatch => ({
     changeHomeData(action) {
       dispatch(action);
     }
   });
   
   export default connect(
     null,   #第一个是mapStateToProps  把store里的数据传到props里
     mapDispatch  #第二个是mapDispatchToProps  把数据传到store里
   )(Home);
   
   
   //优化代码
     componentDidMount() {
       this.props.changeHomeData();
     }
   
   
   const mapDispatch = dispatch => ({
     changeHomeData() {
       axios.get('/api/home.json').then(res => {
         const result = res.data.data;
         const action = {
           type: 'change_home_data',
           topicList: result.topicList,
           articleList: result.articleList,
           recommendList: result.recommendList
         };
         dispatch(action);
       });
     }
   });
   ```




4. 使用JSX语法必须导入react

   ```javascript
   import React from 'react'
   
   return <div>正在加载</div>
   ```

   